# üéâ Debug System Added - Final Summary

## ‚ú® –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. **–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å 4 —É—Ä–æ–≤–Ω—è–º–∏** ‚úÖ

```lua
LOG_LEVELS = {
    DEBUG = 1,   -- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    INFO = 2,    -- –û–±—ã—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    WARN = 3,    -- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
    ERROR = 4,   -- –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
}
```

**–§—É–Ω–∫—Ü–∏–∏:**
- `logDebug(message, data)` - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
- `log(message, data)` - –û–±—ã—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `logWarn(message, data)` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `logError(message, data)` - –û—à–∏–±–∫–∏

---

### 2. **–ö–æ–º–∞–Ω–¥–∞ /debug** ‚úÖ

#### –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
```
/debug                     ‚Üí –ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
/debug on                  ‚Üí –í–∫–ª—é—á–∏—Ç—å DEBUG —Ä–µ–∂–∏–º
/debug off                 ‚Üí –í—ã–∫–ª—é—á–∏—Ç—å DEBUG —Ä–µ–∂–∏–º
/debug state               ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
/debug config              ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
/debug api                 ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
/debug level [1-4]         ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

### 3. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚úÖ

#### API –∑–∞–ø—Ä–æ—Å—ã:
```
[DEBUG] API Request: POST /coords
[DEBUG] Request Data: {"nick":"YourNick",...}
[DEBUG] API Response: POST /coords - Status: 200 (42ms)
[DEBUG] Response Body: {"success":true}
```

#### –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
```
[DEBUG] Sending coords: 1544.2, -1353.5, 13.5 (Commerce, Los Santos) AFK=false
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è:
```
[DEBUG] Player moved: 12.3m
[DEBUG] AFK status cleared (player moved)
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ AFK:
```
[DEBUG] AFK Check: inactive for 245 sec (threshold: 300 sec)
[WARN] Player marked as AFK
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏:
```
[DEBUG] Updating PANIC location: Temple, Los Santos
[DEBUG] Updating PURSUIT target location: Ganton, Los Santos
```

---

### 4. **–§—É–Ω–∫—Ü–∏–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** ‚úÖ

#### debugShowState()
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ù–∏–∫ –∏–≥—Ä–æ–∫–∞
- AFK —Å—Ç–∞—Ç—É—Å
- –ê–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–∏–∫–∞
- –¢–µ–∫—É—â–∏–π —é–Ω–∏—Ç (marking, —Å—Ç–∞—Ç—É—Å, —É—á–∞—Å—Ç–Ω–∏–∫–∏)
- –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
- –¶–µ–ª—å –ø–æ–≥–æ–Ω–∏
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –ª–æ–∫–∞—Ü–∏—è

#### debugShowConfig()
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- API URL
- API Key
- –í—Å–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- –ü–æ—Ä–æ–≥ AFK
- –°—Ç–∞—Ç—É—Å DEBUG —Ä–µ–∂–∏–º–∞
- –°—Ç–∞—Ç—É—Å ImGui

#### debugTestAPI()
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
- –°—Ç–∞—Ç—É—Å –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë–∞–∑–æ–≤–∞—è –æ—Ç–ª–∞–¥–∫–∞
```
1. /debug on               ‚Üí –í–∫–ª—é—á–∏—Ç—å DEBUG
2. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —á–∞—Ç–µ
3. /debug off              ‚Üí –í—ã–∫–ª—é—á–∏—Ç—å –∫–æ–≥–¥–∞ –Ω–∞–π–¥—ë—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```
/debug state
```

**–í—ã–≤–æ–¥:**
```
=== DEBUG: Current State ===
Player: YourNick
AFK: false
In Panic: false
Current Unit: 1-A-12
Unit Members: YourNick, Partner
Unit Status: Code 3
Position: 1544.2, -1353.5, 13.5
Location: Commerce, Los Santos
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```
/debug api
```

**–í—ã–≤–æ–¥ (—É—Å–ø–µ—Ö):**
```
Testing API connection...
API connection OK (status: 200)
```

**–í—ã–≤–æ–¥ (–æ—à–∏–±–∫–∞):**
```
Testing API connection...
API connection FAILED - no response
```

---

### –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```
/debug level 1             ‚Üí –í—Å—ë (DEBUG)
/debug level 2             ‚Üí INFO –∏ –≤—ã—à–µ
/debug level 3             ‚Üí WARN –∏ ERROR
/debug level 4             ‚Üí –¢–æ–ª—å–∫–æ ERROR
```

---

## üìä –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### –í —Ä–µ–∂–∏–º–µ DEBUG (level 1)
‚úÖ –ö–∞–∂–¥—ã–π API –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç  
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ AFK  
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ (Panic/Pursuit)  
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π  
‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –í —Ä–µ–∂–∏–º–µ INFO (level 2) - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è  
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —é–Ω–∏—Ç–æ–≤  
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–π  
‚úÖ –í–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –í —Ä–µ–∂–∏–º–µ WARN (level 3)
‚úÖ AFK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
‚úÖ ImGui –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω  
‚úÖ –¶–µ–ª—å –ø–æ–≥–æ–Ω–∏ –ø–æ—Ç–µ—Ä—è–Ω–∞  
‚úÖ –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

### –í —Ä–µ–∂–∏–º–µ ERROR (level 4)
‚úÖ API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç  
‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥  
‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

---

## üêõ –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

```
/debug on
```

**–°–º–æ—Ç—Ä–∏—Ç–µ –≤ —á–∞—Ç–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥:**
```
[DEBUG] Sending coords: 1544.2, -1353.5, 13.5 (Commerce, Los Santos) AFK=false
[DEBUG] API Request: POST /coords
[DEBUG] API Response: POST /coords - Status: 200 (42ms)
```

**–ï—Å–ª–∏ –Ω–µ—Ç "Sending coords":**
- playerNick –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ò–≥—Ä–æ–∫ –Ω–µ –≤ SA-MP

**–ï—Å–ª–∏ –Ω–µ—Ç "API Response":**
- –ë—ç–∫–µ–Ω–¥ –Ω–µ –∑–∞–ø—É—â–µ–Ω
- –ù–µ–≤–µ—Ä–Ω—ã–π URL

---

### –ü—Ä–æ–±–ª–µ–º–∞: AFK –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

```
/debug on
(–ù–µ –¥–≤–∏–≥–∞–π—Ç–µ—Å—å 5 –º–∏–Ω—É—Ç)
```

**–°–º–æ—Ç—Ä–∏—Ç–µ:**
```
[DEBUG] Player stationary: 0.5m
[DEBUG] AFK Check: inactive for 310 sec (threshold: 300 sec)
[WARN] Player marked as AFK
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: Panic –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
/debug on
/panic
```

**–°–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã:**
```
[DEBUG] Updating PANIC location: Commerce, Los Santos
[DEBUG] API Request: PUT /situations/{id}/location
[DEBUG] API Response: PUT /situations/{id}/location - Status: 200
```

---

## üìÅ –§–∞–π–ª—ã –ª–æ–≥–æ–≤

### –í —á–∞—Ç–µ (–µ—Å–ª–∏ DEBUG —Ä–µ–∂–∏–º)
```
[SAPD Tracker] [DEBUG] ...
[SAPD Tracker] [INFO] ...
[SAPD Tracker] [WARN] ...
[SAPD Tracker] [ERROR] ...
```

### –í moonloader.log (–≤—Å–µ–≥–¥–∞)
```
GTA San Andreas/moonloader/moonloader.log

[SAPD Tracker] [12:34:56] [DEBUG] API Request: POST /coords
[SAPD Tracker] [12:34:56] [DEBUG] API Response: POST /coords - Status: 200 (42ms)
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```
/debug on
/debug level 1
```
–í–∏–¥–Ω–æ –≤—Å—ë —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

---

### –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```
/debug off
/debug level 2
```
–¢–æ–ª—å–∫–æ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

### –î–ª—è production
```
/debug off
/debug level 3
```
–¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –æ—à–∏–±–∫–∏

---

### –î–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã
```
1. /debug on
2. –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
4. /debug state (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
5. /debug api (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API)
6. /debug off (–∫–æ–≥–¥–∞ –Ω–∞—à–ª–∏)
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### LUA_DEBUG_GUIDE.md
–ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ —Å–∏—Å—Ç–µ–º–µ –æ—Ç–ª–∞–¥–∫–∏:
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã /debug
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
- –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### LUA_QUICK_REFERENCE.md
–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–û—Ç–ª–∞–¥–∫–∞" —Å –±—ã—Å—Ç—Ä—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

### UPDATE_SUMMARY.md
–û–±–Ω–æ–≤–ª—ë–Ω —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–∏—Å—Ç–µ–º–µ –æ—Ç–ª–∞–¥–∫–∏

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:

1. ‚úÖ **4 —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** (DEBUG, INFO, WARN, ERROR)
2. ‚úÖ **–ö–æ–º–∞–Ω–¥–∞ /debug** —Å 6 —Ñ—É–Ω–∫—Ü–∏—è–º–∏
3. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. ‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏** (state, config, api test)
5. ‚úÖ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** –≤–æ –≤—Å–µ—Ö –ª–æ–≥–∞—Ö
6. ‚úÖ **–¶–≤–µ—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –≤ —á–∞—Ç–µ
7. ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –≤ LUA_DEBUG_GUIDE.md

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É
```
/debug on
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
```
/debug state
/debug config
/debug api
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
```
/unit create 1-A-12
/sit 911
/situations
```

### 4. –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —á–∞—Ç–µ
–í—Å–µ DEBUG —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –≤ —á–∞—Ç–µ

### 5. –í—ã–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É
```
/debug off
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞!**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/debug on` –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤—ã —Å—Ä–∞–∑—É —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º! üîç
