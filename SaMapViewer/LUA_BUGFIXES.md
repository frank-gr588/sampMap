# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ Lua —Å–∫—Ä–∏–ø—Ç–µ

## ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É—Å–ª–æ–≤–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:**
```lua
if response and response.status_code == 200 or response.status_code == 204 then
```
Lua –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç —ç—Ç–æ –∫–∞–∫:
```lua
if (response and response.status_code == 200) or (response.status_code == 204) then
```
–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ, –µ—Å–ª–∏ `response == nil`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
```lua
if response and (response.status_code == 200 or response.status_code == 204) then
```

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏:** 242, 356, 579

---

### 2. **–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `calculateZone()`**
**–ü—Ä–æ–±–ª–µ–º–∞:**
```lua
local zoneName = calculateZone(x, y, z)
```
–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ SA-MP Lua API.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
–£–¥–∞–ª–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `calculateZone()`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü–∞ –∑–æ–Ω `SA_ZONES`.

---

### 3. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `mimgui`**
**–ü—Ä–æ–±–ª–µ–º–∞:**
```lua
local imgui = require 'mimgui'
```
ImGui –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ, –Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω. –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
–°—Ç—Ä–æ–∫–∞ —É–¥–∞–ª–µ–Ω–∞.

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö**
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π.
**–†–µ—à–µ–Ω–∏–µ:** –û—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–∞–∫ –µ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É.

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ `requests` –∏–ª–∏ `dkjson` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, —Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ LITE –≤–µ—Ä—Å–∏—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ (Checklist)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- [ ] `moonloader` - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] `requests` - –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ luarocks –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
- [ ] `dkjson` - –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `API_URL` - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∞–¥—Ä–µ—Å–æ–º –±—ç–∫–µ–Ω–¥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `API_KEY` - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∫–ª—é—á–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 5000

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `moonloader` –ø–∞–ø–∫—É
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SA-MP
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —á–∞—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `[SAPD Tracker] Tracker started! Use /unit to manage`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/test` (–≤ LITE –≤–µ—Ä—Å–∏–∏)

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Windows (—á–µ—Ä–µ–∑ luarocks):
```powershell
luarocks install lua-requests
luarocks install dkjson
```

### –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
1. –°–∫–∞—á–∞–π—Ç–µ `requests.lua` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ `moonloader/lib/`
2. –°–∫–∞—á–∞–π—Ç–µ `dkjson.lua` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ `moonloader/lib/`

---

## üìã –í–µ—Ä—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞

### **track_samp_v4.lua** (FULL)
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –∑–æ–Ω (50+ –ª–æ–∫–∞—Ü–∏–π)
- ‚úÖ Real-time –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç `requests` –∏ `dkjson`

### **track_samp_v4_lite.lua** (LITE)
- ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- ‚úÖ AFK –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/test` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

## üö® –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥ MoonLoader:
```
moonloader/moonloader.log
```

### 2. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

#### **"module 'requests' not found"**
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests`

#### **"module 'dkjson' not found"**
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `dkjson`

#### **"attempt to call nil value (field 'calculateZone')"**
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–∫—Ä–∏–ø—Ç–∞ (—ç—Ç–∞ –æ—à–∏–±–∫–∞ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)

#### **–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `API_URL` –∏ `API_KEY`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ LITE –≤–µ—Ä—Å–∏—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ MoonLoader:
```
GTA San Andreas/
‚îî‚îÄ‚îÄ moonloader/
    ‚îú‚îÄ‚îÄ moonloader.log  ‚Üê –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–¥–µ—Å—å –æ—à–∏–±–∫–∏
    ‚îú‚îÄ‚îÄ track_samp_v4.lua  ‚Üê –í–∞—à —Å–∫—Ä–∏–ø—Ç
    ‚îî‚îÄ‚îÄ lib/
        ‚îú‚îÄ‚îÄ requests.lua
        ‚îî‚îÄ‚îÄ dkjson.lua
```

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
–í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ:
```lua
local DEBUG = true

function log(message)
    if DEBUG then
        print('[SAPD Tracker DEBUG] ' .. tostring(message))
    end
end
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –û—à–∏–±–∫–∞ | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|--------|--------|-------------|
| –õ–æ–≥–∏–∫–∞ —É—Å–ª–æ–≤–∏–π | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –í—ã—Å–æ–∫–∞—è |
| calculateZone() | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –í—ã—Å–æ–∫–∞—è |
| mimgui –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –°—Ä–µ–¥–Ω—è—è |
| –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ | –ù–∏–∑–∫–∞—è |
| –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –ù–∏–∑–∫–∞—è |

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
